<!DOCTYPE html>
<html>
<head>
	<title></title>

	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>


<script type="text/javascript">
	tf.loadLayersModel('model/model.json').then(function(model) {
 window.model = model;
});



function myFunction() {
  var input = document.getElementById("img");
  var input = tf.browser.fromPixels(input)
  console.log(input)
  console.log(window.model.execute(input))
  var input = tf.tensor(input).reshape([1, 96, 96, 1]);
  const b = tf.scalar(255);
  var input = tf.div(input, b)


 window.model.predict([input]).array().then(function(scores){
  scores = scores[0];
  document.getElementById("demo").innerHTML = scores;
});

}

 

	
</script>

</head>
<body>
<img src="image.jpg" id="img">

<button onclick="myFunction()">Submit</button>
<p id="demo"></p>



</body>
</html>