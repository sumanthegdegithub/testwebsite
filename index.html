<!DOCTYPE html>
<html>
<head>
	<title></title>

	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>

<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>


<script type="text/javascript">

function readURL(input) {
  if (input.files && input.files[0]) {
    var reader = new FileReader();
    
    reader.onload = function(e) {
      $('#blah').attr('src', e.target.result);
    }
    
    reader.readAsDataURL(input.files[0]); // convert to base64 string
  }
}

$("#imgInp").change(function() {
  readURL(this);
});



  let model;
(async function(){
  model = await tf.loadLayersModel('model/model.json');
})();



function myFunction() {
  console.log('hi')
  let image = $('#myImage').get(0);
  let tensor = tf.browser.fromPixels(image).reshape([1, 96, 96, 3]).toFloat();


  (async function(){
  let predictions = await model.predict(tensor).data();
  console.log(predictions);

  document.getElementById("demo").innerHTML = predictions[0];
})();
  

}


</script>

</head>
<body>
<img id="myImage" src="image2.jpg">

<button onclick="myFunction()">Submit</button>
<p id="demo"></p>


  <input type='file' id="imgInp" />
  <img id="blah" src="#" alt="your image" />

</body>
</html>